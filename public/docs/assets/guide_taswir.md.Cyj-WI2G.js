import{_ as i,c as s,o as t,at as n}from"./chunks/framework.Cnsi11we.js";const g=JSON.parse('{"title":"Taṣwīr (Transposition)","description":"Understanding tuning-system-sensitive transposition capabilities","frontmatter":{"title":"Taṣwīr (Transposition)","description":"Understanding tuning-system-sensitive transposition capabilities"},"headers":[],"relativePath":"guide/taswir.md","filePath":"guide/taswir.md","lastUpdated":1762633635000}'),e={name:"guide/taswir.md"};function l(r,a,o,p,h,c){return t(),s("div",null,[...a[0]||(a[0]=[n(`<div style="display:none;" hidden="true" aria-hidden="true">Are you an LLM? You can read better optimized documentation at /docs/guide/taswir.md for this page in Markdown format</div><h1 id="taswir-transposition" tabindex="-1">Taṣwīr (Transposition) <a class="header-anchor" href="#taswir-transposition" aria-label="Permalink to &quot;Taṣwīr (Transposition)&quot;">​</a></h1><p>Transposition is one of DiArMaqAr&#39;s most sophisticated features, enabling systematic analysis of how any jins or maqām can be shifted to different starting pitches while maintaining essential intervallic relationships.</p><h2 id="overview" tabindex="-1">Overview <a class="header-anchor" href="#overview" aria-label="Permalink to &quot;Overview&quot;">​</a></h2><p>In written Arabic maqām theory, transposition is rarely dealt with as a fundamental possibility of maqāmic practice, and transpositions are rarely explicitly rendered. DiArMaqAr&#39;s transposition capabilities represent a significant computational advancement, revealing theoretical possibilities that would require extensive manual calculation to discover.</p><h2 id="how-transposition-works" tabindex="-1">How Transposition Works <a class="header-anchor" href="#how-transposition-works" aria-label="Permalink to &quot;How Transposition Works&quot;">​</a></h2><p>Transposition is <strong>not</strong> simply moving pitches up or down by a fixed amount. Instead, it involves:</p><ol><li><strong>Extracting the interval pattern</strong> from the original structure</li><li><strong>Systematically applying</strong> the pattern to all possible starting points</li><li><strong>Pattern matching</strong> against the tuning system&#39;s available pitch classes</li><li><strong>Preserving intervallic relationships</strong> while adapting to new tonal centers</li></ol><h3 id="interval-pattern-extraction" tabindex="-1">Interval Pattern Extraction <a class="header-anchor" href="#interval-pattern-extraction" aria-label="Permalink to &quot;Interval Pattern Extraction&quot;">​</a></h3><p>The algorithm:</p><ul><li>Cross-references maqām/jins note name sequences to the tuning system</li><li>Extracts the sequence of intervals between consecutive notes</li><li>Uses these intervals (not fixed pitches) as the pattern to match</li></ul><h3 id="matching-process" tabindex="-1">Matching Process <a class="header-anchor" href="#matching-process" aria-label="Permalink to &quot;Matching Process&quot;">​</a></h3><p><strong>For systems using fractional ratios:</strong></p><ul><li>Requires exact fractional ratio matches</li><li>Mathematical precision is preserved</li></ul><p><strong>For systems using string lengths or cents:</strong></p><ul><li>Uses cents values for matching</li><li>Applies user-definable ±cents tolerance (default: ±5 cents)</li><li>Allows for performance practice variations (JND - Just Noticeable Difference)</li></ul><h2 id="jins-transposition" tabindex="-1">Jins Transposition <a class="header-anchor" href="#jins-transposition" aria-label="Permalink to &quot;Jins Transposition&quot;">​</a></h2><p>A jins transposition systematically shifts a jins to begin from a different pitch class while preserving its intervallic relationships.</p><h3 id="example-jins-kurd" tabindex="-1">Example: Jins Kurd <a class="header-anchor" href="#example-jins-kurd" aria-label="Permalink to &quot;Example: Jins Kurd&quot;">​</a></h3><p><strong>Original (Tahlīl):</strong> Jins kurd starting on dūgāh</p><ul><li>Pattern: dūgāh → kurdī → chahārgāh → nawā</li><li>Intervals: [specific cents pattern]</li></ul><p><strong>Transposition (Taswīr):</strong> Jins kurd starting on muhayyar</p><ul><li>Pattern: muhayyar → [notes maintaining same intervals]</li><li>Name: &quot;jins kurd al-muhayyar&quot;</li></ul><h3 id="algorithm-characteristics" tabindex="-1">Algorithm Characteristics <a class="header-anchor" href="#algorithm-characteristics" aria-label="Permalink to &quot;Algorithm Characteristics&quot;">​</a></h3><ul><li><strong>Recursive search</strong>: Finds all valid starting points</li><li><strong>Early termination</strong>: Optimizes performance</li><li><strong>Automatic generation</strong>: All possible transpositions are calculated</li><li><strong>Naming convention</strong>: Follows Arabic theory (&quot;jins [name] al-[starting note]&quot;)</li></ul><h2 id="maqam-transposition" tabindex="-1">Maqām Transposition <a class="header-anchor" href="#maqam-transposition" aria-label="Permalink to &quot;Maqām Transposition&quot;">​</a></h2><p>Maqām transposition handles both ascending and descending sequences separately, accounting for the fact that many maqāmāt employ different sequences in their ascent and descent.</p><h3 id="algorithm-details" tabindex="-1">Algorithm Details <a class="header-anchor" href="#algorithm-details" aria-label="Permalink to &quot;Algorithm Details&quot;">​</a></h3><ol><li><strong>Separate Processing</strong>: Ascending and descending sequences analyzed independently</li><li><strong>Validation</strong>: Ensures all required note names exist in four octaves</li><li><strong>Interval Preservation</strong>: Maintains original intervallic relationships</li><li><strong>Automatic Recalculation</strong>: All embedded ajnās recalculated for each transposition</li><li><strong>Suyūr Transposition</strong>: Associated suyūr automatically transposed</li></ol><h3 id="example-maqam-farahfazza" tabindex="-1">Example: Maqām Farahfazza <a class="header-anchor" href="#example-maqam-farahfazza" aria-label="Permalink to &quot;Example: Maqām Farahfazza&quot;">​</a></h3><p><strong>Original:</strong> Starting on yegāh</p><ul><li>Ascending: yegāh → rāst → dūgāh → ...</li><li>Descending: [possibly different sequence]</li></ul><p><strong>Transposition:</strong> Starting on rāst → &quot;maqām farahfazza al-rāst&quot;</p><ul><li>Ascending: rāst → [transposed maintaining intervals] → ...</li><li>Descending: [transposed maintaining intervals]</li><li>All ajnās recalculated</li><li>All suyūr transposed</li></ul><h2 id="computational-complexity" tabindex="-1">Computational Complexity <a class="header-anchor" href="#computational-complexity" aria-label="Permalink to &quot;Computational Complexity&quot;">​</a></h2><p>The implementation employs:</p><ul><li><strong>Recursive sequence building</strong> with early termination</li><li><strong>O(n×m×k) complexity</strong> where: <ul><li>n = available pitch classes</li><li>m = pattern length</li><li>k = tolerance width</li></ul></li></ul><p>This efficiency enables:</p><ul><li>Real-time transposition generation</li><li>Comprehensive dataset export (all transpositions for all maqāmāt)</li><li>Large-scale comparative analysis</li></ul><h2 id="using-transposition" tabindex="-1">Using Transposition <a class="header-anchor" href="#using-transposition" aria-label="Permalink to &quot;Using Transposition&quot;">​</a></h2><h3 id="via-rest-api" tabindex="-1">Via REST API <a class="header-anchor" href="#via-rest-api" aria-label="Permalink to &quot;Via REST API&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Get maqām with all transpositions (example: transposed maqām with zalzalian tonic)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;http://localhost:3000/api/maqamat/maqam_rahat_al-arwah?tuningSystem=IbnSina-(1037)&amp;startingNote=yegah&amp;includeTranspositions=true&amp;pitchClassDataType=cents&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Response includes array of transpositions with:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># - Transposed name</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># - Ascending/descending sequences</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># - Recalculated ajnās</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># - Transposed suyūr</span></span></code></pre></div><h3 id="via-typescript-library" tabindex="-1">Via TypeScript Library <a class="header-anchor" href="#via-typescript-library" aria-label="Permalink to &quot;Via TypeScript Library&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { getJinsTranspositions, getMaqamTranspositions } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@/functions/transpose&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Get all jins transpositions</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> jinsTranspositions</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getJinsTranspositions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(jins, tuningSystem)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Get all maqām transpositions</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> maqamTranspositions</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getMaqamTranspositions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(maqam, tuningSystem)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Each transposition includes:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// - Name (following Arabic convention)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// - Starting note</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// - All pitch classes with mathematical values</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// - Constituent ajnās (for maqāmāt)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// - Transposed suyūr (for maqāmāt)</span></span></code></pre></div><h2 id="research-applications" tabindex="-1">Research Applications <a class="header-anchor" href="#research-applications" aria-label="Permalink to &quot;Research Applications&quot;">​</a></h2><p>Transposition capabilities enable:</p><ul><li><strong>Systematic exploration</strong>: All mathematically valid possibilities</li><li><strong>Comparative analysis</strong>: How transposition possibilities vary across tuning systems</li><li><strong>Theoretical investigation</strong>: Relationships between tuning systems and modal availability</li><li><strong>Dataset generation</strong>: Complete mappings for machine learning applications</li></ul><h3 id="example-research-questions" tabindex="-1">Example Research Questions <a class="header-anchor" href="#example-research-questions" aria-label="Permalink to &quot;Example Research Questions&quot;">​</a></h3><ul><li>Which tuning systems support the most transpositions for a given maqām?</li><li>How do starting note conventions affect transposition possibilities?</li><li>What is the relationship between tuning system complexity and transposition availability?</li></ul><h2 id="next-steps" tabindex="-1">Next Steps <a class="header-anchor" href="#next-steps" aria-label="Permalink to &quot;Next Steps&quot;">​</a></h2><ul><li>Learn about <a href="/docs/guide/intiqal/">Intiqāl (Modulation)</a> (related but distinct)</li><li>Explore <a href="/docs/guide/tuning-systems/">Tuning Systems</a> and their impact on transposition</li><li>Understand how transposition relates to <a href="/docs/guide/ajnas/">Ajnās</a></li></ul>`,51)])])}const m=i(e,[["render",l]]);export{g as __pageData,m as default};
